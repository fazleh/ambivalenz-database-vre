<!DOCTYPE html>
<html class="no-js" lang="en">
   <head>
     <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!--title>{{ title }}</title-->
  <meta name="viewport" content="width=device-width, initial-scale=1">

      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Picture Narratives and Visual Staging of Antigypsy Motifs</title>
      <meta name="description" content="">
      <meta name="HandheldFriendly" content="True">
      <meta name="MobileOptimized" content="320">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="cleartype" content="on">
      <meta name="google-site-verification" content="5mewDMRKHpmN4nOFNMBcL74PmpSCkHIAstEhMHTHDjk">
      <title>Neo4j Flask App</title>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/screen.css') }}">
      <script src="{{ url_for('static', filename='js/jquery-3.1.1.min.js') }}"></script>
      <script src="{{ url_for('static', filename='js/jquery.detect_swipe.js') }}"></script>
      <script src="{{ url_for('static', filename='js/helper.js') }}"></script>
      <script src="{{ url_for('static', filename='js/main.js') }}"></script>
      <!--[if lt IE 9]>
      <script src="/static/js/vendor/html5shiv.min.js"></script>
      <![endif]-->
       <meta charset="UTF-8">
<title>Objekt Informationen</title>

<style>

body {
  margin: 0;
  font-family: Arial;
  background: #f2f2f2;
}

/* ===== BLACK HEADER BOX ===== */
header.site {
  background: #000;
  color: #fff;
  width: 100%;
  padding: 20px 40px;
  box-sizing: border-box;
}

/* header text + links */
header.site a {
  color: #fff;
  text-decoration: none;
}

/* logo visibility on black */
header.site img {
  filter: brightness(0) invert(1);
}

/* header title */
#header-title {
  margin: 0;
}

/* tools alignment */
#header-tools img {
  filter: invert(1);
}

/* hamburger icon */
#hamburger img {
  filter: invert(1);
}

#menu {
  background: #000;
}


  table.property-table { width:100%; border-collapse:collapse; background:#fff; margin-top:10px; }
th,td { border:1px solid #ccc; padding:8px; vertical-align:top; }
.col1{width:25%;background:#f9f9f9;font-weight:bold;}
.col2{width:45%;}
.col3{width:10%;text-align:center;}
.col4{width:20%;}
textarea{width:100%;min-height:50px;padding:6px;font-size:14px;border:1px solid #bbb;border-radius:4px;resize:vertical;}
.submit-btn,.add-row-btn,.upload-btn,.entity-button{
    margin-top:10px;padding:8px 15px;border:none;border-radius:4px;font-size:14px;cursor:pointer;}
.submit-btn{background:#4CAF50;color:white;}
.add-row-btn{background:#2196F3;color:white;margin-right:10px;}
.upload-btn{background:#FF9800;color:white;margin-right:10px;}
.entity-button{background:#e7f4ff;color:#005b8f;margin:2px 2px;border:1px solid #80cfff;border-radius:4px;}
.traffic-light{width:20px;height:20px;border-radius:50%;display:inline-block;margin-left:5px;border:1px solid #999;cursor:pointer;}
.red{background:red;} .yellow{background:yellow;} .green{background:green;} .gray{background:#ccc;}
.delete-btn { background: #c62828; color: white; border: none; padding: 5px 10px; border-radius: 6px; cursor: pointer; }
.delete-btn:hover { background: #b71c1c; }

    /* ===================== HEADER like FOOTER (BLACK BAR) ===================== */
    header.site { background-color:#000; color:#fff; padding:20px 0; margin:0; text-align:center; display:flex; justify-content:center; align-items:center; }
    header.site h1#header-title { font-size:32px; font-weight:700; margin:0; line-height:1.2; color:#fff; }
    header.site #header-logo { position:absolute; left:20px; }
    header.site #header-logo img { height:46px; width:auto; background-color:#fff; padding:4px; border-radius:4px; }

    body { font-family: Arial,sans-serif; background-color:#f9f9f9; padding:20px; }
    .container { margin:10px auto; gap:14px; display:flex; align-items:flex-start; max-width:1300px; }
    .portrait { width:260px; height:260px; max-width:35vw; max-height:35vw; object-fit:contain; background-color:#eeeeee; border-radius:8px; border:2px solid black; flex-shrink:0; }
    .text { flex-grow:1; border:2px solid black; padding:20px; border-radius:8px; font-size:18px; box-sizing:border-box; }
    h2 { text-align:center; margin-top:10px; margin-bottom:10px; color:#333; }

    table.property-table { width:95%; margin:10px auto; border-collapse:collapse; background-color:#fff; font-size:14px; table-layout:fixed; }
    table.property-table th, table.property-table td { border:1px solid #bbb; padding:6px 8px; vertical-align:top; line-height:1.3; }
    table.property-table th { background-color:#f0f0f0; font-weight:600; text-align:left; }
    table.property-table tr:nth-child(even) { background-color:#f5f5f5; }
    table.property-table a { color:#0645AD; text-decoration:underline; }

    /* Fix column widths */
    .property-table th:nth-child(1), .property-table td:nth-child(1) { width:20%; }
    .property-table th:nth-child(2), .property-table td:nth-child(2) { width:45%; }
    .property-table th:nth-child(3), .property-table td:nth-child(3) { width:10%; text-align:center; }
    .property-table th:nth-child(4), .property-table td:nth-child(4) { width:25%; }

    .value-editor { width:100%; box-sizing:border-box; resize:vertical; }

    /* Traffic lights */
    .traffic-light { width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer; border:1px solid #333; }
    .red { background:#c0392b; } .yellow { background:#f1c40f; } .green { background:#27ae60; } .gray { background:#ccc; }

    /* Buttons */
    .btn { padding:12px 28px; font-size:16px; font-weight:600; border-radius:6px; border:none; cursor:pointer; margin:0 10px 10px 10px; transition:all 0.2s ease; color:white; }
    .btn-edit { background-color:#3498db; } .btn-edit:hover { background-color:#2980b9; }
    .btn-save { background-color:#27ae60; } .btn-save:hover { background-color:#1e8449; }
    .btn-review { background-color:#e67e22; } .btn-review:hover { background-color:#d35400; }
    .btn-refresh { background-color:#7f8c8d; } .btn-refresh:hover { background-color:#606f73; }

    /* Light background based on traffic light */
    .value-cell.red, .value-editor.red { background-color:#fdecea; }
    .value-cell.yellow, .value-editor.yellow { background-color:#fffbe6; }
    .value-cell.green, .value-editor.green { background-color:#eafaf1; }
    .value-cell.gray, .value-editor.gray { background-color:#f9f9f9; }

    /* Inline comment icon */
    .comment-icon { margin-left:4px; cursor:pointer; }

/* Floating comment box */
.comment-box {
  position: absolute;
  border: 1px solid #ccc;
  background: #fff;
  padding: 10px;
  width: 250px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  display: none; /* hidden initially */
  z-index: 1000;
}

.comment-box textarea {
  width: 100%;
  box-sizing: border-box;
  resize: vertical;
  height: 60px;
}

.comment-box button {
  margin-top: 5px;
  padding: 5px 10px;
  font-size: 14px;
  cursor: pointer;
}

#header-title {
    text-align: center;
  }

</style>
   </head>
   <body class=" site-page frontpage">
      <!--[if lt IE 8]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
      <header class="site">
         <a id="header-logo" href="http://127.0.0.1:5000/">
         <img class="logo" srcset="{{ url_for('static', filename='images/Uni_Marburg_Siegel.png') }} 57w,
            {{ url_for('static', filename='images/Uni_Marburg_Siegel.png') }} 93w,
            {{ url_for('static', filename='images/Uni_Marburg_Siegel.png') }} 103w"
            src="{{ url_for('static', filename='images/Uni_Marburg_Siegel.png') }}" alt="Uni Marburg Logo">
         </a>
         <div class="header-language-switcher">
            <span class="current-language">EN</span>
         </div>
         <h1 id="header-title">
            <a href="http://127.0.0.1:5000/" title="RomArchive">Antiziganismus und Ambivalenz in Europa</a>
         </h1>
         <div id="header-tools">
            <a id="search" href="http://127.0.0.1:5000/search/">
            <img src="{{ url_for('static', filename='images/search.svg') }}" alt="Search"></a>
            <div id="hamburger">
               <img class="hamburger" src="{{ url_for('static', filename='images/menu-open.svg') }}">
            </div>
         </div>
      </header>
      <div id="menu" class="menu">
         <img class="logo" srcset="{{ url_for('static', filename='RomArchive_files/Uni_Marburg_Siegel.png') }} 57w,
            {{ url_for('static', filename='RomArchive_files/Uni_Marburg_Siegel.png') }} 93w,
            {{ url_for('static', filename='RomArchive_files/Uni_Marburg_Siegel.png') }} 103w"
            src="{{ url_for('static', filename='RomArchive_files/Uni_Marburg_Siegel.png') }}">
         <nav class="site">
            <h1 id="header-title-menu" class="box clickable-box"><a class="box-link" href="http://127.0.0.1:5000/">Antiziganismus und Ambivalenz in Europa</a></h1>
            <ul class="menu">
               <li class="box clickable-box">
                  <a class="box-link" href="http://127.0.0.1:5000/">Home</a>
               </li>
               <li class="submenu collapsed">
                  <div class="box submenu-header clickable-box">
                     <a class="box-link" href="http://127.0.0.1:5000/sections/">Curated sections</a>
                     <button class="collapse"><img src="{{ url_for('static', filename='images/open-vertical.svg') }}" alt="collapse"></button>
                  </div>
                  <ul class="menu">
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('add_data') }}">Add Data</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('manage_data') }}">Manage Data</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('visual_art') }}">Painting</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('poster') }}">Poster</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('portrait') }}">Portrait</a></li>
                     <!--li class="box clickable-box"><a class="box-link" href="{{ url_for('audio') }}">Audio</a></li-->
                     <!--li class="box clickable-box"><a class="box-link" href="{{ url_for('video') }}">Video</a></li-->
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('book') }}">Book</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('article') }}">Scientific Article</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('song') }}">Song</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('poem') }}">Poem</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('legal_text') }}">Legal Text</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('Person') }}">Person</a></li>

                     <li class="box clickable-box"><a class="box-link" href="http://127.0.0.1:7474/browser/">Graph</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('Metadata') }}">Metadata</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('logout') }}">Logout</a></li>
                     <!-- External URL is fine -->
                  </ul>
               </li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('add_data') }}">Add Data</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('manage_data') }}">Manage Data</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('visual_art') }}">Painting</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('poster') }}">Poster</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('portrait') }}">Portrait</a></li>
               <!--li class="box clickable-box"><a class="box-link" href="{{ url_for('audio') }}">Audio</a></li-->
               <!--li class="box clickable-box"><a class="box-link" href="{{ url_for('video') }}">Video</a></li-->
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('book') }}">Book</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('article') }}">Scientific Article</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('song') }}">Song</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('poem') }}">Poem</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('legal_text') }}">Legal Text</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('Person') }}">Person</a></li>

               <li class="box clickable-box"><a class="box-link" href="http://127.0.0.1:7474/browser/">Graph</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('Metadata') }}">Metadata</a></li>
               <li class="box clickable-box"><a class="box-link" href="{{ url_for('logout') }}">Logout</a></li>
               <!-- External URL is fine -->
               <li class="secondary submenu collapsed">
                  <div class="box submenu-header clickable-box">
                     <a class="box-link" href="{{ url_for('about') }}">About</a>
                     <button class="collapse"> <img src="{{ url_for('static', filename='images/open-vertical.svg') }}" alt="collapse"></button>
                  </div>
                  <ul class="menu">
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('context_project') }}">Roma: Who Are We?</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('history_of_romarchive') }}">Idea - Advisory Board - Team</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('curators') }}">Archive Sections and Curators</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('ethical_guidelines') }}">RomArchive Ethical Guidelines*</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('collection_policy') }}">Collection Policy</a></li>
                     <li class="box clickable-box"><a class="box-link" href="{{ url_for('faq') }}">Frequently Asked Questions | FAQ</a></li>
                  </ul>
               </li>
               <li class="box secondary clickable-box"><a class="box-link" href="{{ url_for('search') }}">Search</a></li>
               <li class="box secondary clickable-box"><a class="box-link" href="{{ url_for('terms') }}">Terms</a></li>
               <li class="box secondary clickable-box"><a class="box-link" href="{{ url_for('contact') }}">Contact</a></li>
            </ul>
         </nav>
      </div>

  <!--h1 id="header-title">{{ title }}</h1-->
</header>

<div class="container">
  <img class="portrait" src="{{ url_for('static', filename=image_path if image_path and image_path != 'No data' else 'images/placeholder.png') }}" alt="{{ title }}">
  <div class="text">
    <p>{{ artist_info }}</p>
  </div>
</div>

     <!--h2>Object Information</h2-->
       <h1 id="header-title">{{ title }}</h1>

<form method="POST" action="{{ url_for('submit_review') }}">
  <table class="property-table">
    <thead>
      <tr>
        <th data-col="0" class="sortable">Property ▲▼</th>
        <th>Value</th>
        <th data-col="2" class="sortable">Status ▲▼</th>
          <th>Comments</th>
      </tr>
    </thead>
    <tbody>
  {% for row in table_rows %}
  <tr>
    <td>{{ row.property }}</td>
    <td class="value-cell" data-value="{{ row.value }}" data-status="{{ row.status or 'gray' }}">
      <span class="value-text">
        {% if row.value is string and row.value.startswith("http") %}
          <a href="{{ row.value }}" target="_blank">{{ row.value }}</a>
        {% else %}
          {{ row.value }}
        {% endif %}
      </span>
      <textarea class="value-editor" name="value_{{ loop.index }}" style="display:none; width:100%; box-sizing:border-box;" rows="3">{{ row.value }}</textarea>
    </td>
    <td style="text-align:center;">
      {% set color = row.status if row.status else 'gray' %}
      <div class="traffic-light {{ color }}" id="light_{{ loop.index }}" onclick="cycleLight('{{ loop.index }}')"></div>
      <input type="hidden" name="status_{{ row.property }}" id="traffic_{{ loop.index }}" value="{{ color }}">
    </td>
    <td class="comment-column">
      <!-- Comments will appear here -->
      <div class="comments-list">
        {% if row.comments %}
          {% for comment in row.comments %}
            <div class="comment-entry">
              <strong>{{ comment.user }}:</strong> {{ comment.text }}
            </div>
          {% endfor %}
        {% endif %}
      </div>
    </td>
  </tr>
  {% endfor %}
</tbody>

  </table>

  <!-- Action Buttons -->
  <div class="btn-container" style="text-align:center; margin:25px 0;">
    <button type="button" class="btn btn-edit" id="editBtn" onclick="enableEditMode()">Edit</button>
    <button type="button" class="btn btn-save" id="saveBtn" onclick="saveChanges()">Save</button>
    <button type="button" class="btn btn-refresh" onclick="refreshData()">Refresh</button>

    <!-- Recipient Dropdown -->
    <select name="recipient_group" required style="margin-left:10px; padding:5px;">
      <option value="" disabled selected>Select Reviewer</option>
      <option value="administration">Administrator</option>
      <option value="reviewers">Reviewers</option>
      <option value="lawyer">Lawyers</option>
    </select>

    <button type="submit" class="btn btn-review" style="margin-left:5px;">Submit Review</button>
  </div>
</form>

   <footer class="site">
         <div class="footer-title">Antiziganismus und Ambivalenz in Europa</div>
         <nav class="footer">
            <a href="{{ url_for('contact') }}">Contact</a>
            <a href="{{ url_for('supporters') }}">Supporters</a>
            <a href="{{ url_for('imprint') }}">Imprint</a>
            <a href="{{ url_for('privacy') }}">Privacy statement</a>
         </nav>
      </footer>

   </body>
</html>
